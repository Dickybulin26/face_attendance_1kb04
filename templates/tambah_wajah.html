{% extends "base.html" %} {% block title %}Pendaftaran - AbsensiPro{% endblock
%} {% block content %}
<main
  class="max-w-2xl mx-auto p-4 md:p-8 page-entrance min-h-screen flex items-center justify-center"
>
  <div
    class="blue-glass w-full p-6 md:p-10 border border-white/10 shadow-2xl rounded-[2rem] md:rounded-[2.5rem] relative overflow-hidden"
  >
    <div
      class="absolute -top-24 -right-24 w-48 h-48 bg-blue-500/10 blur-[80px] rounded-full"
    ></div>

    <div class="text-center mb-8 md:mb-10">
      <div
        class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-400 text-[9px] md:text-[10px] font-bold uppercase tracking-widest mb-4"
      >
        Registration System
      </div>
      <h2 class="text-2xl md:text-3xl font-black text-white tracking-tight">
        Daftar <span class="text-blue-400">Wajah</span>
      </h2>
    </div>

    <form id="addFaceForm" class="space-y-6 md:space-y-8">
      <div class="space-y-2">
        <label
          for="nama"
          class="block text-[10px] font-bold uppercase tracking-widest text-slate-500 ml-1"
          >Nama Lengkap</label
        >
        <div class="relative">
          <i
            data-lucide="user"
            class="absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"
          ></i>
          <input
            type="text"
            id="nama"
            required
            class="w-full bg-white/5 border border-white/10 rounded-2xl pl-14 pr-6 py-4 md:py-5 focus:outline-none focus:border-blue-500 transition-all text-white placeholder:text-slate-600 text-sm"
            placeholder="Contoh: Farell"
          />
        </div>
      </div>

      <div
        class="p-1.5 bg-white/5 rounded-2xl border border-white/5 flex gap-1"
      >
        <button
          type="button"
          id="tabCam"
          onclick="switchUI('camera')"
          class="nav-pill active flex-1 py-3 md:py-3.5 rounded-xl flex items-center justify-center gap-2 font-bold text-[10px] md:text-xs uppercase tracking-widest"
        >
          <i data-lucide="camera" class="w-3.5 h-3.5 md:w-4 md:h-4"></i> Ambil
          Gambar
        </button>
        <button
          type="button"
          id="tabUp"
          onclick="switchUI('upload')"
          class="nav-pill flex-1 py-3 md:py-3.5 rounded-xl flex items-center justify-center gap-2 font-bold text-[10px] md:text-xs uppercase tracking-widest text-slate-500"
        >
          <i data-lucide="upload" class="w-3.5 h-3.5 md:w-4 md:h-4"></i> Upload
          Foto
        </button>
      </div>

      <div class="relative">
        <div id="areaCamera" class="method-section">
          <div
            class="relative aspect-video rounded-[1.5rem] md:rounded-[2rem] overflow-hidden bg-black/40 border border-white/10 shadow-inner"
          >
            <video
              id="video"
              autoplay
              muted
              playsinline
              class="w-full h-full object-cover scale-x-[-1]"
            ></video>
            <div
              class="absolute inset-0 flex items-center justify-center pointer-events-none"
            >
              <div
                class="w-36 h-48 md:w-48 md:h-64 border-2 border-white/10 border-dashed rounded-full"
              ></div>
            </div>
          </div>
        </div>

        <div id="areaUpload" hidden class="method-section">
          <div
            onclick="document.getElementById('fileInput').click()"
            onkeydown="if(event.key === 'Enter') document.getElementById('fileInput').click()"
            role="button"
            tabindex="0"
            class="relative aspect-video rounded-[1.5rem] md:rounded-[2rem] border-2 border-dashed border-white/10 bg-white/5 flex flex-col items-center justify-center cursor-pointer hover:bg-blue-500/5 transition-all group"
          >
            <input
              type="file"
              id="fileInput"
              accept="image/*"
              class="hidden"
              onchange="previewFile(this)"
            />

            <div id="placeholderUp" class="text-center">
              <div
                class="w-14 h-14 md:w-16 md:h-16 bg-blue-500/10 rounded-2xl flex items-center justify-center mx-auto mb-4 text-blue-400 group-hover:scale-110 transition-transform"
              >
                <i data-lucide="image-plus" class="w-6 h-6 md:w-8 md:h-8"></i>
              </div>
              <p class="text-slate-300 font-bold text-xs md:text-sm">
                Pilih File Foto
              </p>
              <p
                class="text-[9px] md:text-[10px] text-slate-500 uppercase mt-1"
              >
                Maksimal 5MB
              </p>
            </div>

            <div id="previewContainer" class="hidden w-full h-full p-4">
              <img
                id="imgPrev"
                alt="Face Preview"
                class="w-full h-full object-contain rounded-xl"
              />
            </div>
          </div>
        </div>
      </div>

      <button
        type="button"
        onclick="submitData()"
        id="btnSubmit"
        class="w-full bg-blue-600 hover:bg-blue-500 text-white font-black py-4 md:py-5 rounded-2xl transition-all shadow-xl shadow-blue-500/20 uppercase tracking-[0.2em] text-[10px]"
      >
        <span id="btnContent" class="flex items-center justify-center gap-2">
          Selesaikan Pendaftaran
          <i data-lucide="arrow-right" class="w-4 h-4"></i>
        </span>
      </button>
    </form>
  </div>
</main>

<canvas id="canvas" class="hidden"></canvas>
{% endblock %}
